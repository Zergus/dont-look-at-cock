<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="./images/hen_chicken-512.png" type="image/png">
    <title>Dont look at cock, World! - A-Frame</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="./vendor/chance.min.js"></script>
    <script src="./vendor/aframe.js"></script>
    <script src="./vendor/aframe-text-component.js"></script>
    <script src="./vendor/aframe-textwrap-component.js"></script>
    <script src="./vendor/aframe-draw-component.js"></script>
    <script src="./vendor/aframe-gif-component.js"></script>
    <script src="./vendor/aframe-gif-shader.js"></script>
    <script type="text/javascript" src="./scripts/index.js"></script>
  </head>
  <body>

    <a-scene stats id="main-scene" inspector="url: https://aframe.io/releases/0.3.0/aframe-inspector.min.js" main-scene>

      <a-assets id="assets" timeout="10000" loading>
        <audio src="./sounds/17bf14b1f6ab.mp3" id="game-mus"></audio>
        <audio src="./sounds/ef50c5844776135.mp3" id="fire-sound"></audio>
        <audio src="./sounds/74ebd921c7fa68c.mp3" id="reload-sound"></audio>
        <img src="./images/57ad8f4f484671567df7cdc0.png" id="petuh-img">
        <img src="./images/Target-PNG-Pic.png" id="target-img">
        <img src="./images/explosion.gif" id="explosion">
        <a-mixin id="button" geometry="primitive: box; width: 5; height: 3; depth: 1"></a-mixin>
        <a-asset-item id="gunObj" src="./obj/Rail_Beam_Gun/RailBeamGun.obj"></a-asset-item>
        <a-asset-item id="gunMtl" src="./obj/Rail_Beam_Gun/RailBeamGun.mtl"></a-asset-item>
      </a-assets>

      <a-entity id="menu-scene" position="0 0 -8" menu visible="true">
        <a-entity geometry="primitive: plane; width: 10; height: 10;" material="color: blue" random-blink="1000">
          <!-- START BUTTON -->
          <a-entity id="start-game-button"
            mixin="button"
            position="0 2 1"
            class="collidable"
            hover button="start"
            draw="background: #D7E8FF" textwrap="textAlign: center; x: 128; y: 128; text: Start Game!">
          </a-entity>
          </a-entity>
          <!-- TIP MESSAGE -->
          <a-entity geometry="primitive: box; width: 7; height: 3; depth: 0.1"
            position="0 -2 1"
            draw="background: red"
            textwrap="textAlign: center; x: 128; y: 100; text: TIP: DONT LOOK AT COCK! ...unless you have shotgun"></a-entity>
        </a-entity>
      </a-entity>

      <a-entity visible="false" id="petuh-scene">
        <!-- PETUH SPHERE ROTATION -->
        <a-entity geometry="primitive: sphere; radius: 7" material="side: double" id="petuh-holder" rotation="0 -90 0" camera-seeker random-blink="1000">
          <!-- PETUH ITSELF -->
          <a-entity geometry="primitive: box; width: 2; height: 2; depth: 2" material="src:#petuh-img" position="0 0 -5" transparent="true">
             <a-animation attribute="rotation"
               dur="10000"
               fill="forwards"
               to="0 360 0"
               repeat="indefinite"></a-animation>
            <!-- PETUH SOUND -->
            <a-sound id="petuh-song" src="#game-mus" loop="true" on="gameStart"></a-sound>
            <!-- PETUH COLLIDER -->
            <a-box width="1.5" height="1.5" depth="1.5" class="collidable" position="0 0 -0.1" transparent="true" hover petuh></a-box>
          </a-entity>
        </a-entity>
      </a-entity>

      <!-- PLAYER LOOK -->
      <a-entity camera look-controls id="player">
        <!-- MESSAGE -->
        <a-entity id="player-message" geometry="primitive: box; width: 1; height: 0.5; depth: 0.001"
            position="0 0.6 -1"
            draw="background: #fff"
            textwrap="textAlign: center; x: 128; y: 100; text: SCORE: 0"></a-entity>
        <!-- RAYCASTER -->
        <a-entity raycaster="objects: .collidable;" position="0 0 0"></a-entity>
        <!-- TARGET IMG -->
        <a-image src="#target-img" position="0 0 -3"></a-image>
        <!-- SHOOT EXPLOSION IMG -->
        <a-image id="gun-explosion" src="#explosion" position="0 0 -3"></a-image>
        <a-entity id="gun" obj-model="obj: #gunObj" material="color: #BCC6CC" scale="0.05, 0.05, 0.05" rotation="0 90 0" position="1.5 -10 1">
          <!-- FIRE SOUND -->
          <a-sound id="fire-from-gun" src="#fire-sound" loop="true"></a-sound>
          <!-- RELOAD SOUND -->
          <a-sound id="reload-gun" volume="80" src="#reload-sound"></a-sound>
        </a-entity>
      </a-entity>
      <a-plane height="100" width="100" rotation="-90 0 0" position="0 -6 0" random-blink="1000"></a-plane>

    </a-scene>

  </body>
</html>
